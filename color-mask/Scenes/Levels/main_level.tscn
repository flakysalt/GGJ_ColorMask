[gd_scene format=4 uid="uid://d352ui21370r8"]

[ext_resource type="Shader" uid="uid://cc7d1ybmuywqp" path="res://Assets/Shader/isolate_color.gdshader" id="1_ikcpc"]
[ext_resource type="TileSet" uid="uid://bjk4xfx3sjbfa" path="res://Assets/forest_tileset.tres" id="2_ikcpc"]
[ext_resource type="PackedScene" uid="uid://ca1e7m4k4nre4" path="res://Scenes/player.tscn" id="3_qbrl8"]
[ext_resource type="PackedScene" uid="uid://bua23yprvvx5w" path="res://Scenes/interactable_character.tscn" id="5_a2ia3"]
[ext_resource type="Script" uid="uid://bi0h4eo4axkeu" path="res://Scripts/DialogueCommands/DialogueCommand.gd" id="6_2jcip"]
[ext_resource type="Script" uid="uid://dqfr480su1o7h" path="res://Scripts/DialogueCommands/ChoiceConversaitionCommand.gd" id="7_6l6h0"]
[ext_resource type="PackedScene" uid="uid://bjscxbuyk4rgr" path="res://Scenes/SceneTransition.tscn" id="7_lwkuy"]
[ext_resource type="Script" uid="uid://b5lfrf3nl7dtc" path="res://Scripts/DialogueCommands/CloseConversationCommand.gd" id="7_o18aq"]
[ext_resource type="Script" uid="uid://c3kp8xfthc2aw" path="res://Scripts/DialogueCommands/ChangeColorCommand.gd" id="8_5iftk"]
[ext_resource type="Script" uid="uid://cbjef5gr1vobn" path="res://Scripts/DialogueCommands/PlayAnimationCommand.gd" id="8_hd7sb"]
[ext_resource type="Script" uid="uid://e0a4j4rm6ew" path="res://Scripts/DialogueCommands/ConversationCommand.gd" id="8_o18aq"]
[ext_resource type="PackedScene" uid="uid://bpi50q0p2380m" path="res://Scenes/push_zone.tscn" id="8_tqiex"]
[ext_resource type="PackedScene" uid="uid://d0rjwiq7qc82u" path="res://Scenes/spatial_audio.tscn" id="13_g5xey"]
[ext_resource type="AudioStream" uid="uid://dl1ir2u231kbc" path="res://Assets/Sound/753374__klankbeeld__park-wind-nl-1129-am-220617_0405.wav" id="14_omwgp"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5erdv"]
shader = ExtResource("1_ikcpc")
shader_parameter/hide = true
shader_parameter/color = Color(0.25441423, 0.5433338, 0.04846759, 1)
shader_parameter/strength = 0.575
shader_parameter/saturation = 0.3090000146775

[sub_resource type="Resource" id="Resource_hd7sb"]
script = ExtResource("7_o18aq")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_unus1"]
script = ExtResource("8_hd7sb")
anim_name = "Sing"
metadata/_custom_type_script = "uid://cbjef5gr1vobn"

[sub_resource type="Resource" id="Resource_g5xey"]
script = ExtResource("8_5iftk")
shaderPresetName = 12
metadata/_custom_type_script = "uid://c3kp8xfthc2aw"

[sub_resource type="Resource" id="Resource_vgie2"]
script = ExtResource("7_6l6h0")
text = "What can i do for you today?"
speaker = "Trisi"
button1text = "See ya!"
button1followup = SubResource("Resource_hd7sb")
button2text = "Sing for me!"
button2followup = SubResource("Resource_unus1")
button3text = "make it colorful"
button3followup = SubResource("Resource_g5xey")
metadata/_custom_type_script = "uid://dqfr480su1o7h"

[sub_resource type="Resource" id="Resource_5vthg"]
script = ExtResource("8_o18aq")
text = "Hi how are you?"
speaker = "Trisi"
next_conversation = SubResource("Resource_vgie2")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[node name="MainLevel" type="Node2D" unique_id=450960749]

[node name="TileMapLayer" type="TileMapLayer" parent="." unique_id=1642172785]
material = SubResource("ShaderMaterial_5erdv")
tile_map_data = PackedByteArray("AAAAAPz/AAAAAAAAAAACAPz/AAAAAAAAAAAFAPz/AAAAAAAAAAAIAPz/AAAAAAAAAAAAAP//AAAFAAEAAAABAP//AAAFAAEAAAACAP//AAAFAAEAAAADAP//AAAGAAEAAAADAAAAAAAFAAIAAAAEAAAAAAAGAAIAAAAFAAAAAAAFAAIAAAAGAAAAAAAFAAIAAAAHAAAAAAAFAAIAAAAIAAAAAAAHAAIAAAAJAAAAAAADAAEAAAAKAAAAAAAEAAIAAAAJAP//AAADAAAAAAAIAP//AAAHAAEAAAAHAP//AAAGAAEAAAAGAP//AAAGAAEAAAAFAP//AAAGAAEAAAAEAP//AAAGAAEAAAABAAAAAAAGAAIAAAAAAAAAAAAFAAIAAAACAAAAAAAFAAIAAAAKAP//AAAHAAEAAAALAP//AAAFAAAAAAALAAAAAAAHAAIAAAALAAEAAAAHAAMAAAAKAAEAAAAHAAMAAAAJAAEAAAAHAAEAAAAIAAEAAAAFAAQAAAAHAAEAAAAGAAMAAAAGAAEAAAAFAAMAAAAFAAEAAAAFAAMAAAAEAAEAAAAGAAMAAAD//wAAAAAEAAIAAAD/////AAAEAAEAAAD//wEAAAAEAAMAAAAAAAEAAAAFAAMAAAABAAEAAAAFAAMAAAACAAEAAAAGAAMAAAADAAEAAAAGAAMAAAAMAP//AAAHAAAAAAAMAAAAAAAHAAAAAAAMAAEAAAAHAAAAAAANAAEAAAAHAAAAAAAOAAEAAAAHAAAAAAAPAAEAAAAHAAAAAAAPAAAAAAAHAAAAAAAPAP//AAAHAAAAAAAPAP7/AAAHAAAAAAAOAP7/AAAHAAAAAAANAP7/AAAHAAAAAAAMAP7/AAAHAAAAAAAMAP3/AAAHAAAAAAALAP3/AAAHAAAAAAAKAP3/AAAHAAAAAAAKAP7/AAAHAAAAAAAHAAMAAAAAAAAAAAAKAAMAAAAAAAAAAAANAAMAAAAAAAAAAAAJAAIAAAAHAAMAAAAIAAIAAAAEAAMAAAA=")
tile_set = ExtResource("2_ikcpc")

[node name="TileMapLayer2" type="TileMapLayer" parent="." unique_id=1159125784]
tile_map_data = PackedByteArray("AAAJAP//AAACAAQAAAAGAAAAAAAFAAUAAAADAAAAAAAGAAUAAAAAAAEAAAAHAAYAAAA=")
tile_set = ExtResource("2_ikcpc")

[node name="TileMapLayer3" type="TileMapLayer" parent="." unique_id=694400388]
tile_map_data = PackedByteArray("AAD//wEAAAABAAUAAAAAAAEAAAABAAUAAAABAP//AAABAAUAAAACAP//AAABAAUAAAACAAEAAAABAAUAAAABAAEAAAABAAUAAAA=")
tile_set = ExtResource("2_ikcpc")

[node name="Player" parent="." unique_id=833487810 instance=ExtResource("3_qbrl8")]
position = Vector2(8, 8)

[node name="InteractableCharacter" parent="." unique_id=221575232 instance=ExtResource("5_a2ia3")]
position = Vector2(-69, 0)
dialogues = Dictionary[String, ExtResource("6_2jcip")]({
"neverclear": SubResource("Resource_5vthg")
})

[node name="SceneTransition" parent="." unique_id=1734695462 instance=ExtResource("7_lwkuy")]
position = Vector2(-46, 35)

[node name="PushZone" parent="." unique_id=933193684 instance=ExtResource("8_tqiex")]
position = Vector2(-46, -35)
id_to_deactivate = "aa"
push_speed = 150.0

[node name="SpatialAudio" parent="." unique_id=1250851828 instance=ExtResource("13_g5xey")]
max_volume_db = -20.0
fade_speed = 40.0

[node name="AudioStreamPlayer2D" parent="SpatialAudio" index="0" unique_id=1821332744]
stream = ExtResource("14_omwgp")

[node name="CollisionPolygon2D" parent="SpatialAudio" index="1" unique_id=518314062]
polygon = PackedVector2Array(-30, 91, -10, 144, 95, 89, 76, 29, -21, 47)

[editable path="SpatialAudio"]
