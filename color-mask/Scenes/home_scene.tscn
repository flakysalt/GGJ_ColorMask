[gd_scene format=4 uid="uid://dref5krpt31c0"]

[ext_resource type="TileSet" uid="uid://ciepht35shqtw" path="res://Assets/Tilesets/floors_interior.tres" id="1_s8pp3"]
[ext_resource type="TileSet" uid="uid://d18ojy7cg3g4n" path="res://Assets/Tilesets/walls_interior.tres" id="2_fnh40"]
[ext_resource type="TileSet" uid="uid://blcqsh7rpfvhl" path="res://Assets/Tilesets/objects_int.tres" id="3_fnh40"]
[ext_resource type="TileSet" uid="uid://ff3cpbewntrj" path="res://Assets/Tilesets/objects_int_16x16.tres" id="4_fnh40"]
[ext_resource type="PackedScene" uid="uid://ckj3txt43ifx4" path="res://Scenes/trashpile.tscn" id="5_0pnwe"]
[ext_resource type="Script" uid="uid://bi0h4eo4axkeu" path="res://Scripts/DialogueCommands/DialogueCommand.gd" id="6_s1ws0"]
[ext_resource type="Script" uid="uid://e0a4j4rm6ew" path="res://Scripts/DialogueCommands/ConversationCommand.gd" id="7_oa0bn"]
[ext_resource type="Script" uid="uid://blhsq5c5vct26" path="res://Scripts/DialogueCommands/SetGlobalStateCommand.gd" id="8_7u5wn"]
[ext_resource type="Script" uid="uid://cbjef5gr1vobn" path="res://Scripts/DialogueCommands/PlayAnimationCommand.gd" id="9_brgcy"]
[ext_resource type="Script" uid="uid://b5lfrf3nl7dtc" path="res://Scripts/DialogueCommands/CloseConversationCommand.gd" id="9_oa0bn"]
[ext_resource type="PackedScene" uid="uid://ca1e7m4k4nre4" path="res://Scenes/player.tscn" id="11_brgcy"]
[ext_resource type="PackedScene" uid="uid://8dtee0ohcxgc" path="res://Scenes/trashcan.tscn" id="12_brgcy"]
[ext_resource type="PackedScene" uid="uid://gch1k1wpnen0" path="res://Scenes/Interactable Game Objects/Home_Bed.tscn" id="13_xk5ad"]
[ext_resource type="PackedScene" uid="uid://bjscxbuyk4rgr" path="res://Scenes/SceneTransition.tscn" id="14_xk5ad"]
[ext_resource type="PackedScene" uid="uid://db2t0s4a60j7r" path="res://Scenes/game_start_conversation.tscn" id="15_2uwdw"]
[ext_resource type="PackedScene" uid="uid://b2or3kpoiypdw" path="res://Scenes/Interactable Game Objects/Home_Kitchen_Table.tscn" id="16_mucyl"]
[ext_resource type="PackedScene" uid="uid://b2a6lhu2dpw7d" path="res://Scenes/Interactable Game Objects/Home_PC.tscn" id="17_ok8vo"]
[ext_resource type="PackedScene" uid="uid://b72716ttm4m4g" path="res://Scenes/Interactable Game Objects/Home_Phone.tscn" id="18_lqbg1"]
[ext_resource type="Script" uid="uid://cdtr7rlkj7keh" path="res://Scripts/DialogueWithKey.gd" id="19_lqbg1"]
[ext_resource type="Script" uid="uid://dqfr480su1o7h" path="res://Scripts/DialogueCommands/ChoiceConversaitionCommand.gd" id="20_gjs2k"]
[ext_resource type="PackedScene" uid="uid://duv5tx72xoljd" path="res://Scenes/Interactable Game Objects/Home_Stove.tscn" id="21_4tikl"]
[ext_resource type="PackedScene" uid="uid://cy4jy5bo3mre4" path="res://Scenes/Interactable Game Objects/Home_Radio.tscn" id="22_c0wx4"]

[sub_resource type="Resource" id="Resource_7u5wn"]
script = ExtResource("8_7u5wn")
id = "Cleanup"
metadata/_custom_type_script = "uid://blhsq5c5vct26"

[sub_resource type="Resource" id="Resource_brgcy"]
script = ExtResource("9_oa0bn")
followupCommand = SubResource("Resource_7u5wn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_3rbwr"]
script = ExtResource("9_brgcy")
anim_name = "Cleanup"
followupCommand = SubResource("Resource_brgcy")
metadata/_custom_type_script = "uid://cbjef5gr1vobn"

[sub_resource type="Resource" id="Resource_kysu3"]
script = ExtResource("7_oa0bn")
text = "That really is a lot of trash, i should get rid of it"
speaker = "Me"
next_conversation = SubResource("Resource_3rbwr")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_oa0bn"]
script = ExtResource("9_oa0bn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_xk5ad"]
script = ExtResource("7_oa0bn")
text = "This is way too much to deal with right now"
speaker = "Me"
next_conversation = SubResource("Resource_oa0bn")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_2uwdw"]
script = ExtResource("9_oa0bn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_mucyl"]
script = ExtResource("7_oa0bn")
text = "That concert is coming up, I should get the tickets finally on my PC."
speaker = "Me"
next_conversation = SubResource("Resource_2uwdw")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_ok8vo"]
script = ExtResource("7_oa0bn")
text = "Life has been rough lately..."
speaker = "Me"
next_conversation = SubResource("Resource_mucyl")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_nsr0v"]
script = ExtResource("9_oa0bn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_eeebu"]
script = ExtResource("7_oa0bn")
text = "My phone. But whom should I call? I don't want to bother anyone with my problems."
speaker = "Me"
next_conversation = SubResource("Resource_nsr0v")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_tkem1"]
script = ExtResource("9_oa0bn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_c3vtp"]
script = ExtResource("9_oa0bn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_k2ceu"]
script = ExtResource("9_oa0bn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_hgp8s"]
script = ExtResource("9_oa0bn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_pc3jj"]
script = ExtResource("9_oa0bn")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_bnjur"]
script = ExtResource("8_7u5wn")
id = "R1"

[sub_resource type="Resource" id="Resource_nmonv"]
script = ExtResource("9_oa0bn")
followupCommand = SubResource("Resource_bnjur")
metadata/_custom_type_script = "uid://b5lfrf3nl7dtc"

[sub_resource type="Resource" id="Resource_vdxep"]
script = ExtResource("7_oa0bn")
text = "That went so much better than expecred! I should get ready."
speaker = "Me"
next_conversation = SubResource("Resource_nmonv")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_dxbwa"]
script = ExtResource("9_brgcy")
anim_name = "Face Player"
followupCommand = SubResource("Resource_vdxep")

[sub_resource type="Resource" id="Resource_5bub3"]
script = ExtResource("7_oa0bn")
text = "[She hang's up.]"
next_conversation = SubResource("Resource_dxbwa")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_1uh6u"]
script = ExtResource("7_oa0bn")
text = "You know what? It's been too long to catch up over the phone. Just come over!
See you soon!"
speaker = "Friend"
next_conversation = SubResource("Resource_5bub3")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_625a3"]
script = ExtResource("7_oa0bn")
text = "Hello! Wow, it's you! I haven't heard from you in so long! How are you?"
speaker = "Friend"
next_conversation = SubResource("Resource_1uh6u")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_u3sdu"]
script = ExtResource("7_oa0bn")
text = "It's ringing.

Why is this so nerve-wrecking?"
speaker = "Me"
next_conversation = SubResource("Resource_625a3")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_sa8od"]
script = ExtResource("7_oa0bn")
text = "Okay, three times is the charm! 

Why is it so hard to press these numbers?"
speaker = "Me"
next_conversation = SubResource("Resource_u3sdu")
metadata/_custom_type_script = "uid://e0a4j4rm6ew"

[sub_resource type="Resource" id="Resource_fnnm5"]
script = ExtResource("20_gjs2k")
text = "We haven't been in contact for months. What if she doesn't want to have anything to do with me any more?"
speaker = "Me"
button1text = "Leave"
button1followup = SubResource("Resource_hgp8s")
button2text = "Give up"
button2followup = SubResource("Resource_pc3jj")
button3text = "Call friend"
button3followup = SubResource("Resource_sa8od")
metadata/_custom_type_script = "uid://dqfr480su1o7h"

[sub_resource type="Resource" id="Resource_2olvd"]
script = ExtResource("20_gjs2k")
text = "Should I really? I don't want to bother them."
speaker = "Me"
button1text = "Abort!"
button1followup = SubResource("Resource_c3vtp")
button2text = "Turn away"
button2followup = SubResource("Resource_k2ceu")
button3text = "Call Friend"
button3followup = SubResource("Resource_fnnm5")
metadata/_custom_type_script = "uid://dqfr480su1o7h"

[sub_resource type="Resource" id="Resource_ikoue"]
script = ExtResource("20_gjs2k")
text = "My phone."
speaker = "Me"
button1text = "Leave"
button1followup = SubResource("Resource_tkem1")
button2text = "Call friend"
button2followup = SubResource("Resource_2olvd")
metadata/_custom_type_script = "uid://dqfr480su1o7h"

[sub_resource type="Resource" id="Resource_8urku"]
script = ExtResource("19_lqbg1")
key = "G2"
command = SubResource("Resource_eeebu")
metadata/_custom_type_script = "uid://cdtr7rlkj7keh"

[sub_resource type="Resource" id="Resource_xk7oi"]
script = ExtResource("19_lqbg1")
key = "R1"
command = SubResource("Resource_ikoue")
metadata/_custom_type_script = "uid://cdtr7rlkj7keh"

[node name="Node2D2" type="Node2D" unique_id=351562765]

[node name="Floor" type="TileMapLayer" parent="." unique_id=803632346]
show_behind_parent = true
tile_map_data = PackedByteArray("AAABAAEAAQAEAAAAAAADAAEAAQAEAAAAAAAFAAEAAQAUAAAAAAAHAAEAAQAUAAAAAAAFAAQAAQAcAAYAAAAHAAQAAQAcAAYAAAADAAQAAQAcAAYAAAABAAQAAQAcAAYAAAAJAAEAAQAUAAAAAAALAAEAAQAUAAAAAAAJAAQAAQAcAAYAAAALAAQAAQAcAAYAAAALAAcAAQAcAAYAAAAJAAcAAQAcAAYAAAAHAAcAAQAcAAYAAAAFAAcAAQAcAAYAAAADAAcAAQAcAAYAAAABAAcAAQAcAAYAAAANAAEAAAAMAAAAAAAOAAEAAAAMAAAAAAAPAAEAAAAMAAAAAAAQAAEAAAAMAAAAAAARAAEAAAAMAAAAAAASAAEAAAAMAAAAAAASAAIAAAAMAAAAAAATAAIAAAAMAAAAAAAUAAEAAAAMAAAAAAAUAAQAAAAMAAAAAAATAAQAAAAMAAAAAAASAAQAAAAMAAAAAAARAAQAAAAMAAAAAAAQAAQAAAAMAAAAAAAPAAQAAAAMAAAAAAAOAAQAAAAMAAAAAAANAAQAAAAMAAAAAAANAAcAAAAMAAAAAAAOAAUAAAAMAAAAAAANAAYAAAAMAAAAAAAOAAcAAAAMAAAAAAAPAAcAAAAMAAAAAAAQAAcAAAAMAAAAAAARAAcAAAAMAAAAAAASAAcAAAAMAAAAAAATAAcAAAAMAAAAAAAUAAcAAAAMAAAAAAA=")
tile_set = ExtResource("1_s8pp3")

[node name="Walls" type="TileMapLayer" parent="." unique_id=1920746433]
position = Vector2(0, -1)
tile_map_data = PackedByteArray("AAAAAAAAAAADAAMAAAAAAAEAAAADAAMAAAAAAAIAAAADAAMAAAAAAAMAAAADAAMAAAAAAAQAAAADAAMAAAAAAAUAAAADAAMAAAAAAP//AAADAAMAAAABAP//AAAGAAEAAAACAP//AAAGAAEAAAADAP//AAAGAAEAAAAEAP//AAAGAAEAAAAFAP//AAAGAAEAAAAGAP//AAAGAAEAAAAHAP//AAAGAAEAAAAAAAkAAAADAAoAAAABAAkAAAAEAAoAAAACAAkAAAAEAAoAAAADAAkAAAAFAA4AAAAFAAkAAAAFAA4AAAAGAAkAAAAEAAoAAAAHAAkAAAAEAAoAAAAIAAkAAAAVAA4AAAAKAAkAAAASAA4AAAALAAkAAAAUAAwAAAAAAAYAAAABAAUAAAAAAAcAAAABAAUAAAAAAAgAAAABAAUAAAAIAP//AAAGAAEAAAAJAP//AAAGAAEAAAAKAP//AAAGAAEAAAALAP//AAAGAAEAAAAVAP//AAAIAAMAAAAVAAAAAAAIAAMAAAAVAAEAAAAIAAMAAAAVAAIAAAAIAAMAAAAVAAMAAAAIAAMAAAAVAAQAAAAIAAMAAAAVAAUAAAAIAAMAAAAVAAYAAAAKAAUAAAAVAAcAAAAKAAUAAAAVAAgAAAAKAAUAAAAVAAkAAAAIAAoAAAAAAPz/AAADAAIAAAABAPz/AAAEAAIAAAACAPz/AAAEAAIAAAADAPz/AAAEAAIAAAAEAPz/AAAEAAIAAAAFAPz/AAAEAAIAAAAGAPz/AAAEAAIAAAAHAPz/AAAEAAIAAAAIAPz/AAAGAAAAAAAJAPz/AAAGAAAAAAAKAPz/AAAGAAAAAAALAPz/AAAGAAAAAAAAAP3/AAADAAUAAAAAAP7/AAADAAUAAAABAP3/AAAFAAUAAAACAP3/AAAFAAUAAAADAP3/AAAFAAUAAAAEAP3/AAAFAAUAAAAFAP3/AAAFAAUAAAAGAP3/AAAFAAUAAAAHAP3/AAAFAAUAAAAIAP3/AAAFAAUAAAAJAP3/AAAFAAUAAAAKAP3/AAAFAAUAAAAKAP7/AAAFAAUAAAALAP7/AAAFAAUAAAALAP3/AAAFAAUAAAAJAP7/AAAFAAUAAAAIAP7/AAAFAAUAAAAHAP7/AAAFAAUAAAAGAP7/AAAFAAUAAAAFAP7/AAAFAAUAAAAEAP7/AAAFAAUAAAADAP7/AAAFAAUAAAACAP7/AAAFAAUAAAABAP7/AAAFAAUAAAAMAP3/AAAFAAUAAAANAP3/AAAFAAUAAAAOAP3/AAAFAAUAAAAPAP3/AAAFAAUAAAAQAP3/AAAFAAUAAAARAP3/AAAFAAUAAAASAP3/AAAFAAUAAAATAP3/AAAFAAUAAAAUAP3/AAAFAAUAAAAMAP7/AAAFAAUAAAANAP7/AAAFAAUAAAAOAP7/AAAFAAUAAAAPAP7/AAAFAAUAAAAQAP7/AAAFAAUAAAARAP7/AAAFAAUAAAASAP7/AAAFAAUAAAATAP7/AAAFAAUAAAAUAP7/AAAFAAUAAAAUAP//AAAFAAUAAAATAP//AAAFAAUAAAASAP//AAAFAAUAAAARAP//AAAFAAUAAAAQAP//AAAFAAUAAAAPAP//AAAFAAUAAAAOAP//AAAFAAUAAAANAP//AAAFAAUAAAAMAP//AAAFAAUAAAAVAPz/AAAIAAIAAAAVAP7/AAAIAAUAAAAVAP3/AAAIAAUAAAAUAPz/AAAHAAQAAAATAPz/AAAHAAQAAAASAPz/AAAHAAQAAAARAPz/AAAHAAQAAAAQAPz/AAAHAAQAAAAPAPz/AAAHAAQAAAAOAPz/AAAHAAQAAAANAPz/AAAHAAQAAAAMAPz/AAAHAAQAAAAEAAkAAAAFAA4AAAAMAAkAAAAFAA4AAAANAAkAAAAFAA4AAAAOAAkAAAAFAA4AAAAPAAkAAAAFAA4AAAAQAAkAAAAFAA4AAAARAAkAAAAFAA4AAAASAAkAAAAFAA4AAAATAAkAAAAFAA4AAAAUAAkAAAAFAA4AAAA=")
tile_set = ExtResource("2_fnh40")

[node name="Interior" type="TileMapLayer" parent="." unique_id=802511820]
tile_map_data = PackedByteArray("AAABAAEAAAAOAAcAAAAFAAEAAAAEAAwAAAAIAAEAAAAGAAwAAAASAAIAAAADAAwAAAABAAgAAAAIAAAAAAALAP7/AAAMAAkAAAA=")
tile_set = ExtResource("3_fnh40")

[node name="Interior Mid" type="TileMapLayer" parent="." unique_id=109325202]
tile_map_data = PackedByteArray("AAAUAAAAAAAcAAQAAAATAAAAAAAaAAQAAAASAAAAAAAaAAQAAAARAAAAAAAaAAQAAAAQAAAAAAAZAAQAAAASAAgAAAAUAAoAAAAHAAgAAAAGAAQAAAAIAAgAAAAHAAQAAAAHAAcAAAAGAAEAAAAIAAcAAAAFAAEAAAAHAAYAAAAGAAAAAAAIAAYAAAAJAAAAAAA=")
tile_set = ExtResource("4_fnh40")

[node name="Interior Top" type="TileMapLayer" parent="." unique_id=1995068502]
tile_map_data = PackedByteArray("AAAHAAcAAAANAA0AAAA=")
tile_set = ExtResource("4_fnh40")

[node name="Trashpile" parent="." unique_id=2098699945 instance=ExtResource("5_0pnwe")]
dialogues = Dictionary[String, ExtResource("6_s1ws0")]({
"A1": null,
"B2": SubResource("Resource_kysu3"),
"R1": SubResource("Resource_xk5ad"),
"adsad": null
})

[node name="Home_Bed" parent="." unique_id=558507055 instance=ExtResource("13_xk5ad")]
position = Vector2(306, 111)

[node name="Trashcan" parent="." unique_id=1794268289 instance=ExtResource("12_brgcy")]
position = Vector2(192, 131)

[node name="Player" parent="." unique_id=833487810 instance=ExtResource("11_brgcy")]
position = Vector2(156, 84)

[node name="SceneTransition" parent="." unique_id=1734695462 instance=ExtResource("14_xk5ad")]
position = Vector2(152, 136)
scene_to_transition_to = "res://Scenes/town_scene.tscn"

[node name="GameStartConversation" parent="." unique_id=1605847366 instance=ExtResource("15_2uwdw")]
initicalConversation = SubResource("Resource_ok8vo")

[node name="Home_Kitchen_Table" parent="." unique_id=2100068011 instance=ExtResource("16_mucyl")]
position = Vector2(48, 96)

[node name="Home_PC" parent="." unique_id=494277193 instance=ExtResource("17_ok8vo")]
position = Vector2(299, -16)

[node name="Home_Phone" parent="." unique_id=1536547070 instance=ExtResource("18_lqbg1")]
position = Vector2(122, 117)
dialogues = Dictionary[String, ExtResource("6_s1ws0")]({
"G2": SubResource("Resource_eeebu"),
"NOSKIP": null,
"R1": SubResource("Resource_ikoue")
})
dialogueList = Array[ExtResource("19_lqbg1")]([SubResource("Resource_8urku"), SubResource("Resource_xk7oi")])

[node name="Home_Stove" parent="." unique_id=1569789993 instance=ExtResource("21_4tikl")]
position = Vector2(104, 9)

[node name="Home_Radio" parent="." unique_id=108814248 instance=ExtResource("22_c0wx4")]
position = Vector2(204, 1)

[editable path="Trashpile"]
